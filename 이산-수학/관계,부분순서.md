영상: https://www.youtube.com/playlist?list=PLD8rdlfZeJk4n5XQc6bMTZ9eh1C4vGmKQ

### 관계의 정의와 개념

#### 관계 예시

- **관계를 구성하는 쌍들은 순서쌍 (순서가 있음)**
  - "관계 R은 집합 A의 원소들 사이에서 정의된다."
  - R : A ⇒ A
  <br>
- **관계는 집합들 간에도 이루어 질 수 있음**
  - A로부터 B로의 관계 R을 "a가 b에 의해 만들어진다"라고 정의하면 (a ∈ A, b ∈ B)
  - R : A ⇒ B

#### 카티션 곱(Cartesian product) = 곱집합, 데카르트 곱
- 정의 : 두 개의 임의의 집합 A와 B에서 A와 B의 원소들로 만들어지는 모든 순서쌍 (a, b) 들의 집합
     -  a ∈ A 이고 b ∈B  인 모든 순서쌍 (a, b)들의 집합
     <br>
- A x B = { (a,b) : a ∈ A and b ∈ B }
- A x B ≠ B x A : 카티션 곱은 순서쌍이기 때문에 순서가 중요
  
- 카티션 곱 S (집합)안에 있는 요소들의 수를 n(S)로 나타내면
  - n(A x B) = n(A) · n(B) : 집합 A의 원소 개수와 집합 B 원소 개수의 곱
  <br>
- 집합 2개에 대해서만 정의되는 것이 아님
  - 집합 A₁, A₂, …, A_n에 대해서 n개의 순서쌍(n-tuple)인 (a₁, a₂, …, a_n)은 집합 A₁, A₂, …, A_n의 카티션 곱
  - a_i ∈ A_i
  - 표기법 : (A₁ x A₂ x … x A_n) 혹은 ![카티션곱.svg](/uploads/9f7f0e962c54571dd17d3b60c56e4a02/카티션곱.svg)



#### 이진 관계(binary relation)

- 정의 : 집합 A와 B에 대해서, A로부터 B로의 이진 관계는 A x B(카티션 곱)의 부분집합

  - 집합 A로부터 B로의 관계 R

  - R은 집합 A와 B의 원소들의 순서쌍으로 표현할 수 있음

  - R의 관계를 만족하는 순서쌍은 A x B의 부분집합임
  
  - 즉, 모든 A x B의 원소에 대해서 다음 중 하나가 성립함
    - a는 b와 R의 관계가 있다.
    - a는 b와 R의 관계가 없다.

#### 자기 자신으로의 관계

- R이 A로부터 자기 자신으로의 관계(R: A → A, 한 집합의 원소들 사이에서의 관계)라면 R은 A위에서의 관계라고 함


#### 정의역(domain)과 치역(range)

- 정의역 : 관계 R에 속하는 모든 순서쌍의 첫 번째 요소들의 집합
- 치역 : 관계 R에 속하는 모든 순서쌍의 두 번째 요소들의 집합
- ex) y = f(x)일 경우, x:정의역, y:치역

#### 관계

- 집합 A에 대해서, A x A (카티션 프로덕트)와 공집합은 A x A의 부분집합들임
  => 따라서, 이것들은 A 위에서의 관계들
- A x A : 전체 관계(universal relation)
  - A의 모든 원소들은 서로 관계가 있다.
  <br>
- Ø  : 빈 관계(empty relation)
  - A의 모든 원소들은 서로 관계가 없다.
  <br>
- 역관계
  - R: A → B 일 때 R의 역관계는 R에 속하는 순서쌍들의 순서를 바꾼 순서쌍들로 구성되는 **B로부터 A로의 관계**임
  - R^-1(R의 역관계) = {(b, a) : (a, b) ∈ R}
  - ex) R = {(1, x), (2, y), (3, x)} 이면 R의 역관계는 {(x, 1), (y, 2), (x, 3)}
  - 역관계의 역관계는 원래의 관계
  - 역관계의 정의역과 치역은 원 관계의 치역과 정의역과 같음
  - 원 관계가 A위에서의 관계라면 역관계도 A위에서의 관계임



#### 함수와 관계

- 기본적인 개념은 차이가 없음
- 정의상의 차이
  - 함수 : 집합 A의 모든 원소 a에 대해 매핑되는 집합 B의 원소 b에 대해 b의 값이 유일할때
    - ex) (b, c), (c, c)
  - 관계 : 함수와 같은 제한이 없음, 1-to-many의 매핑이 존재할 수 있음
    - ex) (b, c), (b, d)
- 함수는 관계의 한 형태 => 관계는 함수의 더 일반화된 개념이라고 할 수 있음
<br>

- 함수 : 일반적으로 연속적인 원소들로 이루어진 집합에서의 관계를 나타냄
  - 주로 함수식으로 표현하게 됨 (y = f(x))
- 관계 : 이산 원소들의 집합에서의 관계를 나타냄
  - 순서쌍들의 이산 집합으로 표현

---

### 관계의 표현과 합성

#### 관계의  표현

- 화살 그림 (arrow diagram)
- ![화살그림](/uploads/b4c516d1fc209e12bbd0a37e751d5a02/화살그림.PNG)

- 관계 행렬 (relation matrix)
- ![관계_행렬](/uploads/a8638fd76f9489117e5327a4df63edf0/관계_행렬.PNG)

- 방향 그래프 (directed graph)
- ![방향_그래프](/uploads/7855bc26132b7630a2c9b75476f8d002/방향_그래프.PNG)

#### 관계의 합성

- 관계 R : A → B 관계, 즉 A x B의 부분집합

- 관계 S : B → C 관계, 즉 B x C의 부분집합

  <br>

- RºS(RS) : A → C , R과 S는 합성관계라고 함

---

### 관계의 유형

- 반사적 관계 (reflexive relation)
  - 집합 A의 모든 원소 a 에 대해 (a,a) ∈ R(a,a) ∈ R 인 관계
  - 집합 A = {1, 2, 3}일 때의 반사 관계
    R = {(1, 1), (2, 2), (3, 3)} 포함되어 있어야함
  - 각 원소의 자기 자신과의 관계가 모두 1이어야함 (행렬에서)
  <br>
- 대칭적 관계 (symmetric relation)
  - 관계 R이 (a, b) ∈ R 일때, (b, a) ∈ R이 성립하는 관계
  - (b, a) ∉ R이 존재하면 대칭적 관계 X
  <br>
- 반대칭적 관계 (antisymmetric relation)
  - 관계 R이 (a,b) ∈ R이고 a ≠ b 이면 (b, a) ∉ R인 경우
  <br>
- 추이적 관계 (transitive relation)
  - (a,b) ∈ R 이고 (b,c) ∈ R 일 때, (a,c) ∈ R인 관계
  - 관계의 모든 순서쌍에 대해 추이적 관계를 만족하는 순서쌍이 존재해야 추이적 관계가 성립함

<details>
<summary>이항관계</summary>

- 집합 내의 원소들간의 존재할 수 있는 관계에 대한 개념
- 이항 관계는 n항 관계에서 n이 2인 특수 경우 - 우리가 흔히 생각하는 "a는 b보다 크다"와 같은 개념도의 관계의 하위 개념
- 관계를 이야기할 때 함수를 빼놓을 수 없는데 함수는 관계의 하위 개념이면서 동시에 프로그래밍의 꽃
- 함수의 정의 - 첫 번째 집합의 임의의 한 원소를 두 번째 집합의 오직 한 원소에 대응시키는 대응 관계" 이기 때문
- 특이한 관계 - 반사, 대칭, 반대칭, 비대칭, 추이 관계
- 추이관계 - 데이터 베이스의 관계를 제 3 정규형으로 만들기 위해 추이적 함수 종속성을 제거 해야 한다, 그래프에서 경로 개념에서 추이적 관계를 생각 가능: 정점 a와 b(aRb), b와 c(bRc)가 연결되어 있으면 a에서 c로 가는 경로가 존재한다(aRc)는 식으로 생각할 수 있다.
</details>

---
### 관계의 닫힘

#### 관계의 닫힘(closure)

- 집합 A상에서 관계 R이 어떤 특성(반사, 대칭, 추이 등) P를 가지고 있지 않다면 P를 가지는 관계 R∗로 확장하는 것이 가능

- 확장된 관계 R∗가 원하는 특성 P를 갖도록 관계 R에 순서쌍들을 추가할 수 있음

  <br>

- R∗가 관계 R을 포함하면서 원하는 특성 P가 만족되는 가장 작은 집합이라면 R∗는 특성 P에 대해 R의 닫힘(closure)이라고 부른다.

#### 반사적 닫힘

- 어떤 관계가 반사적 관계를 만족하지 않을 때, 반사적 관계를 만족하기 위해 필요한 순서쌍을 추가한 것 (특성 P가 반사적 관계)
  - 방향 그래프로 표현할 때, 자신으로 가는 화살표 추가하면 반사적 닫힘이 됨
- r(R)

#### 대칭적 닫힘

- 어떤 관계가 대칭적 관계를 만족하지 않을 때, 대칭적 관계를 만족하기 위해 필요한 순서쌍을 추가한 것 (특성 P가 대칭적 관계)
  - 대칭적 관계 : 어떤 관계에서 역관계를 포함한 것

#### 경로와 연결 관계

- 경로 : 어떤 순서쌍이 연속되어 나올 때 ex) (a, b), (b, c), (c, d) = a로부터 d로의 경로
  - 순서쌍은 방향그래프에서 연속되어야 함
- 경로의 길이 : a로부터 b에 이르는 경로를 구성하는 순서쌍(화살표)의 수
- 연결 관계 (connectivity relation) : R* = {(a, b) | a에서 b로 경로가 존재}
  - Rⁿ은 a에서 b로의 길이 n의 경로를 갖는 순서쌍 (a, b)로 구성되는 관계
  - 방향선을 한 번 이상 지나갈 수 있다.
  - R*은 Rⁿ의 합집합으로 구성됨

#### 추이적 닫힘

- 추이적 관계가 만족되도록 어떤 순서쌍을 포함시킨 것
- 연결 관계를 만족시켜주는 순서쌍들이 추이적 닫힘이 됨

---

### [동치 관계](../이산-수학/이산수학-기초/동치-관계.md)

---

### 부분 순서 관계

#### 부분 순서(partial order)

- 부분 순서 관계 : 집합 A위에서의 관계 R이 **반사적**이고 **반대칭적**이고 **추이적**인 경우
- 부분 순서 집합(poset) : 부분적 순서의 관계를 갖는 요소들의 집합
  - partially ordered set (**poset**)
  - 집합에 있는 요소들의 일부는 상호간에 순서가 있으나 모든 요소들 사이에 순서가 있지는 않음

- x, y간에 (부분적) 순서 관계가 성립할 때, 관계 R에 대해 x와 y는 비교할 수 있다고 한다.



#### 포셋(partially ordered set, poset)

- 부분적 순서가 정의되는 원소들의 집합
- 선행 요소(predecessor)와 후행 요소(successor)
  - x !=y 일 때, (x, y) ∈ R 이면
  - x : y의 선행 요소
  - y : x의 후행 요소
- 직전 선행 요소 (immediate predecessor)
  - x가 y의 선행 요소이고 (x, z) ∈ R이고, (z, y) ∈ R인 z가 없다면
  - x :  y의 직전 선행 요소 (y앞에 x이외의 다른 요소가 없음)



#### 하세 도표(Hasse diagram)

- 순서 관계를 나타내는 연결선 만으로 구성된 방향 그래프

- 직전 선행 요소를 밑에 놓고 직전 선행 요소와 직전 후행 요소만을 연결선으로 연결
  - 화살표도 필요 없음 (직전 선행 요소를 밑에 놓기 때문)



#### 전체 순서(total order)

- A의 모든 요소들 간의 순서관계가 성립하면 관계 R은 전체 순서라고 함
- ex) 실수에서 오름차순, 내림차순



#### 극대(maximal) 원소와 극소(minimal) 원소

- 극대 원소(maximal element) : 후행 요소가 존재 하지 않는 원소
- 극소 원소(minimal element) : 선행 요소가 존재하지 않는 원소
- 한 집합 내에서 극대, 극소 원소는 여러개 존재할 수 있음



#### 상한(upper bound)과 하한(lower bound)

- 상한(upper bound) : 포셋 내 부분 집합의 어떤 원소 보다도 큰 원소(들)
- 하한(lower bound) : 포셋 내 부분 집합의 어떤 원소 보다도 작은 원소(들)



#### 최소 상한(least upper bound), 최대 하한(greatest lower bound)

- 최소 상한 : 포셋 내 부분 집합 A의 다른 모든 상한보다 작은 상한
- 최대 하한 : 포셋 내 부분 집합 A의 다른 모든 하한보다 큰 하한



#### 최대(maximum)와 최소(minimum) 원소

- 최대값, 최소값의 개념
- 최대 원소 : 포셋 내의 다른 어떤 원소 보다도 큰 원소
- 최소 원소 : 포셋 내의 다른 어떤 원소 보다도 작은 원소



#### 격자(lattice)

- 어떤 두 원소를 선택하더라도 한 개의 최소 상한과 한 개의 최대 하한이 존재하는 포셋



#### 위상 정렬(topological sorting)

- 부분 순서 관계를 지키면서 전체 정렬을 하는 것
- {1, 2, 3, 6, 12, 18} = {1, 3, 2, 6, 18, 12}

- 집합의 원소들 중에서 극소 원소를 계속해서 선택함으로써 가능함
